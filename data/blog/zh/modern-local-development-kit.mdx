---
title: '新macOS开发环境安装指南'
date: '2025-12-27'
tags: ['cli', 'tools', 'productivity', 'setup']
draft: false
summary: '从零开始配置macOS开发环境，按安装顺序整理的核心工具链。'
---

# 新 macOS 开发环境安装指南

## 工具哲学

**约定大于配置，现代化，速度快**

选择工具的标准：

- 默认行为符合直觉，无需大量配置
- 积极维护，社区活跃
- 性能优先，Rust/Go 实现优先
- AI 友好，结构化输出

---

拿到新电脑后，按以下顺序安装配置。

## 1. 系统初始化

```bash
# 显示隐藏文件
defaults write com.apple.finder AppleShowAllFiles -bool true
killall Finder

# 显示文件扩展名
defaults write NSGlobalDomain AppleShowAllExtensions -bool true

# 截图保存位置
defaults write com.apple.screencapture location ~/Downloads/Screenshots
killall SystemUIServer

# 加速 Dock 动画
defaults write com.apple.dock autohide-time-modifier -float 0.4
killall Dock
```

## 2. 安装 Homebrew

> macOS 包管理器，所有其他工具的安装基础

```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

## 3. 安装 Git

> 版本控制，代码协作必备

```bash
brew install git

# 配置
git config --global user.name "Your Name"
git config --global user.email "you@example.com"

# Git diff 增强
brew install delta
git config --global core.pager delta
git config --global interactive.diffFilter "delta --color-only"
git config --global delta.navigate true
```

## 4. 安装 Zsh 和插件

> 现代 Shell，比默认 Bash 更智能

```bash
brew install zsh-syntax-highlighting zsh-autosuggestions zoxide starship
```

将以下内容写入 `~/.zshrc`：

```bash
# ~/.zshrc

# 命令补全
autoload -Uz compinit && compinit

# 语法高亮和历史建议
source /opt/homebrew/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
source /opt/homebrew/share/zsh-autosuggestions/zsh-autosuggestions.zsh

# 历史配置
setopt HIST_FIND_NO_DUPS
setopt HIST_IGNORE_DUPS
setopt SHARE_HISTORY
HISTSIZE=10000
SAVEHIST=10000

# 提示符
eval "$(starship init zsh)"

# 目录跳转
eval "$(zoxide init zsh)"

# 以下配置已包含在一键安装脚本中，无需手动添加
# eval "$(fzf --zsh)"
# eval "$(fnm env --use-on-cd)"
# eval "$(atuin init zsh)"
# alias cat='bat' ls='eza --git --icons' ll='eza -lah --git --icons'
# alias tree='eza --tree' find='fd' grep='rg'
# alias du='duf' df='duf' top='btop'
# alias git='lazygit' docker='lazydocker'
```

## 5. 安装 Raycast

> macOS 启动器，Alfred 的现代替代品，内置窗口管理、剪贴板历史、计算器等功能

```bash
brew install --cask raycast
```

### 列出已安装的 Raycast 扩展

```shpython3 -c "import os, json, glob; [print(f"- {json.load(open(f)).get('title')}") for f in glob.glob(os.path.expanduser('~/.config/raycast/extensions/*/package.json')) if json.load(open(f)).get('owner') != 'raycast']"

```

### 核心功能

| 功能           | 说明                               |
| -------------- | ---------------------------------- |
| **启动器**     | 应用搜索、文件搜索、计算、单位换算 |
| **窗口管理**   | 内置分屏功能，替代 Rectangle       |
| **剪贴板历史** | 记录剪贴板内容，支持搜索和固定     |
| **扩展市场**   | 700+ 扩展，生态丰富                |
| **快捷指令**   | 自定义命令，集成工作流             |

### 推荐配置

1. **快捷键**: `Cmd+Space` 呼出
2. **窗口管理**: 安装 `Window Management` 扩展
3. **剪贴板**: 安装 `Clipboard History` 扩展
4. **GitHub**: 安装扩展快速搜索仓库
5. **系统操作**: 睡眠、锁屏、音量控制

### 推荐扩展

- **Window Management**: 窗口分屏、最大化、居中
- **Clipboard History**: 剪贴板历史管理
- **Quick Notes**: 快速创建笔记
- **GitHub**: 搜索仓库、PR、Issues
- **Terminal Notifier**: 命令完成通知
- **Color Picker**: 取色器
- **Emoji Search**: 表情符号搜索

## 6. 安装终端模拟器

> 终端运行环境，推荐 Ghostty（快、稳定、跨平台）

```bash
brew install --cask ghostty
```

## 7. 安装核心 CLI 工具

| 工具        | 用途                         |
| ----------- | ---------------------------- |
| **bat**     | cat 替代，带语法高亮和行号   |
| **eza**     | ls 替代，支持 Git 状态和图标 |
| **fd**      | find 替代，速度快 10-100 倍  |
| **ripgrep** | grep 替代，极速搜索          |
| **fzf**     | 模糊搜索，快速定位文件       |
| **zoxide**  | 智能目录跳转，记住常用目录   |
| **jq**      | JSON 处理和格式化            |
| **jc**      | 将命令输出转为 JSON          |
| **btop**    | top 替代，美观的进程监控     |
| **duf**     | du/df 替代，直观显示磁盘使用 |
| **ncdu**    | 交互式磁盘清理               |
| **httpie**  | HTTP 客户端，比 curl 更简单  |
| **dog**     | DNS 查询，比 dig 更直观      |
| **atuin**   | 命令历史管理，支持搜索和同步 |

```bash
brew install bat eza fd ripgrep fzf zoxide jq jc
brew install btop duf ncdu httpie dog atuin
```

## 8. 安装版本管理工具

| 工具     | 用途                              |
| -------- | --------------------------------- |
| **fnm**  | Node.js 版本管理，比 nvm 快       |
| **asdf** | 多语言版本管理（Python、Ruby 等） |

```bash
brew install fnm asdf
```

## 9. 安装 Git 工具

| 工具        | 用途                          |
| ----------- | ----------------------------- |
| **lazygit** | Git TUI，交互式操作           |
| **gh**      | GitHub CLI，管理 PR 和 Issues |

```bash
brew install lazygit gh
```

## 10. 安装 Docker 工具

> 容器化开发环境

```bash
brew install --cask docker
brew install lazydocker
```

## 11. 安装数据库客户端

| 工具        | 用途                           |
| ----------- | ------------------------------ |
| **pgcli**   | PostgreSQL CLI，自动补全和高亮 |
| **litecli** | SQLite CLI                     |
| **mycli**   | MySQL CLI                      |

```bash
brew install pgcli litecli mycli
```

## 12. 安装编辑器

> Helix：现代编辑器，模态编辑（Vim 风格），开箱即用

```bash
brew install helix
```

## 13. 安装通知工具

> 任务完成后自动提醒，无需等待

```bash
brew install noti terminal-notifier
```

## 14. 安装系统工具

| 工具              | 用途                           |
| ----------------- | ------------------------------ |
| **fastfetch**     | 系统信息展示，比 neofetch 更快 |
| **pv**            | 显示管道数据传输进度           |
| **progress**      | 显示 cp/mv/dd 等命令进度       |
| **speedtest-cli** | 网络测速                       |
| **taskwarrior**   | 命令行任务管理                 |
| **timewarrior**   | 时间跟踪                       |

```bash
brew install fastfetch pv progress speedtest-cli
brew install task timewarrior
```

## 15. 安装配置管理

> Chezmoi：管理 dotfiles，跨设备同步配置

```bash
brew install chezmoi
chezmoi init
```

## 16. 安装 Chrome 浏览器插件

> 在 Chrome 网上应用店搜索以下插件名安装

| 插件                      | 说明                                                           |
| ------------------------- | -------------------------------------------------------------- |
| **Obsidian Web Clipper**  | 将网页内容（文章、图片）保存到 Obsidian 知识库，支持高亮和标注 |
| **React Developer Tools** | React 组件树查看器、Props/State 检查、性能分析                 |
| **Save All Resources**    | 一键下载页面所有资源（图片、JS、CSS、字体），保留目录结构      |
| **SVG Downloader**        | 识别页面中所有 SVG，一键打包下载为 ZIP                         |
| **Copy as Markdown**      | 将链接、图片转为 Markdown 格式（`[title](url)`），复制到剪贴板 |
| **Star History**          | 在 GitHub 仓库页面显示 Star 增长曲线图                         |
| **Playwright MCP**        | 通过 MCP 协议用 AI（Cursor/Claude/VS Code）控制浏览器          |
| **Subtle White**          | 护眼主题，将亮色网页转为柔和白色背景                           |
| **Video Screenshot**      | 视频帧截图工具，支持 Netflix/YouTube 等平台                    |

## 17. 安装 VSCode 插件

### AI 工具

| 插件                    | 说明                                     |
| ----------------------- | ---------------------------------------- |
| **Claude Code**         | Claude AI 编程助手，代码生成、重构、解释 |
| **GitHub Copilot**      | 代码自动补全，AI 根据上下文预测代码      |
| **GitHub Copilot Chat** | AI 对话编程，解释代码、生成单元测试      |
| **Roo Cline**           | AI 代码助手，支持多种模型，可编辑文件    |
| **ChatGPT**             | 集成 ChatGPT，快速查询和生成代码         |

### 编程语言

| 插件                          | 说明                                  |
| ----------------------------- | ------------------------------------- |
| **Python**                    | Python 语言支持、代码分析、调试       |
| **Pylance**                   | Python 类型检查、智能补全、代码导航   |
| **Volar**                     | Vue 3 语言服务，类型推断、组件提示    |
| **ESLint**                    | JS/TS 代码检查，发现潜在问题          |
| **Prettier**                  | 代码格式化，保持代码风格一致          |
| **Tailwind CSS IntelliSense** | Tailwind 类名自动补全、预览、颜色显示 |

### 开发效率

| 插件                         | 说明                                                |
| ---------------------------- | --------------------------------------------------- |
| **GitLens**                  | Git 可视化，显示代码行作者、历史、比较分支          |
| **Turbo Console Log**        | 选中变量，一键生成 `console.log(message, variable)` |
| **npm Intellisense**         | import 语句自动补全 npm 包名                        |
| **Path Intellisense**        | 文件路径自动补全                                    |
| **Rainbow CSV**              | CSV 文件列高亮、列名提示、对齐显示                  |
| **Todo Tree**                | 高亮 `TODO`、`FIXME` 等标记，快速跳转               |
| **Pretty TypeScript Errors** | TS 错误信息格式化，更易读                           |
| **Error Lens**               | 代码错误/警告直接在行上显示                         |

### 代码片段

| 插件                    | 说明                                          |
| ----------------------- | --------------------------------------------- |
| **ES7+ React Snippets** | React/Redux/React Native 代码片段（rafce 等） |
| **Auto Close Tag**      | 输入 HTML 标签时自动补全闭合标签              |
| **Auto Rename Tag**     | 修改 HTML/JSX 开始标签时，自动重命名闭合标签  |

### 主题图标

| 插件                    | 说明                           |
| ----------------------- | ------------------------------ |
| **Dracula Official**    | 深色主题，紫色调护眼           |
| **Atom One Light**      | 浅色主题，清新明亮             |
| **Material Icon Theme** | 文件类型图标，视觉区分文件     |
| **Alabaster**           | 极简浅色主题，低对比度         |
| **Indent Rainbow**      | 缩进用不同颜色显示，对齐可视化 |

### 文档工具

| 插件                         | 说明                              |
| ---------------------------- | --------------------------------- |
| **Markdown Preview Mermaid** | Markdown 预览支持 Mermaid 流程图  |
| **Markdown All in One**      | Markdown 快捷键、目录、表格格式化 |
| **MDX**                      | MDX 文件语法高亮和预览            |

### 远程开发

| 插件                  | 说明                          |
| --------------------- | ----------------------------- |
| **Remote Containers** | 在 Docker 容器内开发          |
| **Remote SSH**        | SSH 连接远程服务器开发        |
| **Docker**            | Docker 容器/镜像/网络管理面板 |
| **Kubernetes**        | K8s 资源管理、YAML 校验       |

### 其他

| 插件             | 说明                                      |
| ---------------- | ----------------------------------------- |
| **EditorConfig** | 跨编辑器配置（缩进、换行符等）            |
| **Live Server**  | 本地开发服务器，文件保存自动刷新          |
| **gitignore**    | 生成 `.gitignore` 文件，支持多种语言/框架 |
| **XML Tools**    | XML 格式化、XPath 查询                    |
| **YAML**         | YAML 语法高亮、校验                       |
| **Vim**          | VSCode 中的 Vim 模拟                      |
| **CodeSnap**     | 代码截图美化工具                          |

```bash
# 一键安装所有 VSCode 插件
code --install-extension adpyke.codesnap
code --install-extension akamud.vscode-theme-onelight
code --install-extension anthropic.claude-code
code --install-extension bierner.markdown-mermaid
code --install-extension bradlc.vscode-tailwindcss
code --install-extension chakrounanas.turbo-console-log
code --install-extension christian-kohler.npm-intellisense
code --install-extension christian-kohler.path-intellisense
code --install-extension codezombiech.gitignore
code --install-extension dbaeumer.vscode-eslint
code --install-extension dotjoshjohnson.xml
code --install-extension dracula-theme.theme-dracula
code --install-extension dsznajder.es7-react-js-snippets
code --install-extension eamodio.gitlens
code --install-extension ecmel.vscode-html-css
code --install-extension editorconfig.editorconfig
code --install-extension esbenp.prettier-vscode
code --install-extension formulahendry.auto-close-tag
code --install-extension formulahendry.auto-rename-tag
code --install-extension github.copilot
code --install-extension github.copilot-chat
code --install-extension github.vscode-github-actions
code --install-extension github.vscode-pull-request-github
code --install-extension gruntfuggly.todo-tree
code --install-extension jock.svg
code --install-extension mechatroner.rainbow-csv
code --install-extension mhutchie.git-graph
code --install-extension ms-azuretools.vscode-docker
code --install-extension ms-python.python
code --install-extension ms-python.vscode-pylance
code --install-extension ms-toolsai.jupyter
code --install-extension ms-vscode-remote.remote-containers
code --install-extension ms-vscode-remote.remote-ssh
code --install-extension oderwat.indent-rainbow
code --install-extension openai.chatgpt
code --install-extension pkief.material-icon-theme
code --install-extension redhat.vscode-yaml
code --install-extension ritwickdey.liveserver
code --install-extension rooveterinaryinc.roo-cline
code --install-extension tamasfe.even-better-toml
code --install-extension tonsky.theme-alabaster
code --install-extension unifiedjs.vscode-mdx
code --install-extension usernamehw.errorlens
code --install-extension vscodevim.vim
code --install-extension vue.volar
code --install-extension yzhang.markdown-all-in-one
```

## 一键安装脚本

```bash
#!/bin/bash
set -e

# Homebrew
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# 核心工具
brew install git delta bat eza fd ripgrep fzf zoxide jq jc
brew install btop duf ncdu httpie dog atuin
brew install zsh-syntax-highlighting zsh-autosuggestions starship
brew install fnm asdf lazygit gh lazydocker
brew install pgcli litecli mycli helix
brew install noti terminal-notifier
brew install fastfetch pv progress speedtest-cli
brew install task timewarrior chezmoi

# cask
brew install --cask ghostty docker

# 配置 ~/.zshrc
cat >> ~/.zshrc << 'EOF'

# 命令补全
autoload -Uz compinit && compinit

# 语法高亮和历史建议
source /opt/homebrew/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
source /opt/homebrew/share/zsh-autosuggestions/zsh-autosuggestions.zsh

# 历史配置
setopt HIST_FIND_NO_DUPS
setopt HIST_IGNORE_DUPS
setopt SHARE_HISTORY
HISTSIZE=10000
SAVEHIST=10000

# 提示符
eval "$(starship init zsh)"

# 目录跳转
eval "$(zoxide init zsh)"

# fzf 模糊搜索
eval "$(fzf --zsh)"

# fnm Node.js 版本管理
eval "$(fnm env --use-on-cd)"

# atuin 命令历史
eval "$(atuin init zsh)"

# 命令别名（现代 CLI 工具替代）
alias cat='bat'
alias ls='eza --git --icons'
alias ll='eza -lah --git --icons'
alias tree='eza --tree'
alias find='fd'
alias grep='rg'
alias du='duf'
alias df='duf'
alias top='btop'
alias git='lazygit'
alias docker='lazydocker'
EOF

echo "安装完成，已配置 ~/.zshrc"
```

## 工具速查

### 命令行工具

| 场景        | 原命令   | 现代替代   |
| ----------- | -------- | ---------- |
| 查看文件    | cat      | bat        |
| 列表目录    | ls       | eza        |
| 树形目录    | tree     | eza --tree |
| 查找文件    | find     | fd         |
| 搜索内容    | grep     | ripgrep    |
| 目录跳转    | cd       | zoxide     |
| 进程监控    | top      | btop       |
| 磁盘使用    | du/df    | duf        |
| 磁盘清理    | -        | ncdu       |
| Git 操作    | git      | lazygit    |
| Git diff    | git diff | delta      |
| Docker 操作 | docker   | lazydocker |
| 命令历史    | Ctrl+R   | atuin      |
| JSON 处理   | -        | jq + jc    |
| HTTP 请求   | curl     | httpie     |
| DNS 查询    | dig      | dog        |

### 快捷键

| 功能           | 快捷键   |
| -------------- | -------- |
| 模糊搜索文件   | Ctrl+T   |
| 搜索命令历史   | Ctrl+R   |
| 跳转到常用目录 | z + 名称 |

### 常用命令

| 功能          | 命令           |
| ------------- | -------------- |
| 显示 Git 状态 | eza -lah --git |
| 查找文件      | fd "name"      |
| 搜索代码      | rg "pattern"   |
| 查看磁盘      | duf            |
| 查看进程      | btop           |
